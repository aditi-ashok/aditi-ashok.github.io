<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
  <title>Lab 3: Mad Libs Project</title>
  <style>
    /* Sticky footer styles -------------------------------------------------- */
    html {
      position: relative;
      min-height: 100%;
    }

    body {
      margin-bottom: 60px;
      /* Margin bottom by footer height */
    }

    .footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 60px;
      /* Set the fixed height of the footer here */
      line-height: 60px;
      /* Vertically center the text there */
      background-color: #f5f5f5;
    }


    /* Custom page CSS -------------------------------------------------- */
    /* Not required for template or sticky footer method. */

    .container {
      width: auto;
      max-width: 680px;
      padding: 0 15px;
    }

  </style>
</head>

<body>
  <div class="container">
    <h1>Lab 3: Mad Libs Project</h1>
    <p>Fill out the form below and click the button to see your cool story!</p>
    <form method="get" id="form">
      
     <div class="form-group">
        <label for="adj1">Adjective 1</label>
        <input type="text" class="form-control" id="adj1" name="adj1" placeholder="Add an adjective">
      </div>

      <div class="form-group">
        <label for="plnoun1">Plural Noun 1</label>
        <input type="text" class="form-control" id="plnoun1" name="plnoun1" placeholder="Add a plural noun">
      </div>

      <div class="form-group">
        <label for="plnoun2">Plural Noun 2</label>
        <input type="text" class="form-control" id="plnoun2" name="plnoun2" placeholder="Add a plural noun">
      </div>

      <div class="form-group">
        <label for="liquid">Type of Liquid</label>
        <input type="text" class="form-control" id="liquid" name="liquid" placeholder="Add a liquid">
      </div>

      <div class="form-group">
        <label for="adj2">Adjective 2</label>
        <input type="text" class="form-control" id="adj2" name="adj2" placeholder="Add an adjective">
      </div>
      
      <div class="form-group">
        <label for="noun1">Noun</label>
        <input type="text" class="form-control" id="noun1" name="noun1" placeholder="Add a noun">
      </div>

      <div class="form-group">
        <label for="verb1">Verb</label>
        <input type="text" class="form-control" id="verb1" name="verb1" placeholder="Add a verb">
      </div>

      <div class="form-group">
        <label for="plnoun3">Plural Noun 3</label>
        <input type="text" class="form-control" id="plnoun3" name="plnoun3" placeholder="Add a plural noun">
      </div>

      <div class="form-group">
        <label for="ingverb">Verb ending in -ing</label>
        <input type="text" class="form-control" id="ingverb" name="ingverb" placeholder="Add a verb ending in -ing">
      </div>

      <div class="form-group">
        <label for="number">Number</label>
        <input type="text" class="form-control" id="number" name="number" placeholder="Add a number">
      </div>
      
      <button id="submit" type="submit" class="btn btn-primary">Submit</button>
    </form>
    <div id="story"></div>
  </div>
  <footer class="footer">
    <div class="container">
      <p>Story from <a href="https://www.rainbowresource.com/product/018778/Best-of-Mad-Libs.html">Rainbow Resource</a> modified by Aditi Ashok. </p>   
    </div>
  </footer>
</body>

<script>
  // When we click the submit button, log the values of the form.
  document.getElementById('submit').addEventListener('click', function (event) {
    console.log(document.getElementById('adj1').value);
    console.log(document.getElementById('plnoun1').value);
    console.log(document.getElementById('plnoun2').value);
    console.log(document.getElementById('liquid').value);
    console.log(document.getElementById('adj2').value);
    console.log(document.getElementById('noun1').value);
    console.log(document.getElementById('verb1').value);
    console.log(document.getElementById('plnoun3').value);
    console.log(document.getElementById('ingverb').value);
    console.log(document.getElementById('number').value);
    
    // Hide the form.
    document.getElementById('form').style.display = 'none';
  });


    //get the url parameters and add them to the form  
    var urlParams = new URLSearchParams(window.location.search);
    document.getElementById('adj1').value = urlParams.get('adj1');
    document.getElementById('plnoun1').value = urlParams.get('plnoun1');
    document.getElementById('plnoun2').value = urlParams.get('plnoun2');
    document.getElementById('liquid').value = urlParams.get('liquid');
    document.getElementById('adj2').value = urlParams.get('adj2');
    document.getElementById('noun1').value = urlParams.get('noun1');
    document.getElementById('verb1').value = urlParams.get('verb1');
    document.getElementById('plnoun3').value = urlParams.get('plnoun3');
    document.getElementById('ingverb').value = urlParams.get('ingverb');
    document.getElementById('number').value = urlParams.get('number');



    //if we have all the inputs, hide the form and show the story
    if (urlParams.get('adj1') && urlParams.get('plnoun1') && urlParams.get('plnoun2') && urlParams.get('liquid') && urlParams.get('adj2') && urlParams.get('noun1') && urlParams.get('verb1') && urlParams.get('plnoun3') && urlParams.get('ingverb') && urlParams.get('number')) {
      document.getElementById('form').style.display = 'none';
      document.getElementById('story').innerHTML = 'Children are fascinated by ' +  urlParams.get('adj1') + 
                    ' stuff- like stories that scare the ' + urlParams.get('plnoun1') +
                    ' off them or make their ' + urlParams.get('plnoun2') +
                    ' stand on end. Scientists say this is because being frightened causes the brain to malfunction and puts ' +
                    + urlParams.get('liquid') +
                    ' into their blood. And everyone knows that makes kids feel ' + urlParams.get('adj2') +
                    '. When they are scared by a movie or a/an ' + urlParams.get('noun1') +
                    ', some children laugh and holler and ' + urlParams.get('verb1') +
                    '. But other children cover their eyes with their ' + urlParams.get('plnoun3') +
                    ' and keep screaming and ' + urlParams.get('ingverb') +
                    '. Most kids get over this by the time they are ' + urlParams.get('number') +
                    ' years old, but some never do.';
    }

    // Add a link to the story to clear the form.
    document.getElementById('story').innerHTML += '<br><a class="btn btn-primary" href="lab-03.html">Clear the form</a>';

    // Hide the clear story form link if we don't have a story.
  if (!urlParams.get('adj1') || !urlParams.get('plnoun1') || !urlParams.get('plnoun2') || !urlParams.get('liquid') || !urlParams.get('adj2') || !urlParams.get('noun1') || !urlParams.get('verb1') || !urlParams.get('plnoun3') || !urlParams.get('ingverb') || !urlParams.get('number')) {
    document.getElementById('story').style.display = 'none';
  }

</script>

</html>