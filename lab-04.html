<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Company HR Directory from a CSV File</title>
  <link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <style>
   #cards div {
    display:inline-block;
   }
  </style>
</head>

<body>

  <div class="container">
    <h1>HR Directory</h1>

    <div id="directory">
      <table class="table table-striped" id="directoryTable">
        <thead>
          <tr>
            <th>Photo</th>
            <th>Name</th>
            <th>Address</th>
            <th> City </th>
            <th> State </th>
            <th> Country </th>
            <th> Zip </th>
            <th>Email</th>
            <th>Phone</th>
            <th>Cell</th>
            <th> Nationality </th>
            <th> Username </th>
            <th> Birthday</th>
            <th> Age </th>
            <th> Registration Date </th>
          </tr>
        </thead>
        <tbody>
          <tr> </tr>
        </tbody>
      </table>
    </div>
  </div>

</body>

<script>
  d3.csv("hr-directory.csv", function (data) {
    console.log(data);
    //append the data to the table
    let row = '<tr>';
    row += '<td><img src="' + data['picture.large'] + '"></td>';
    row += '<td>' + data['name.title'] + ' ' + data.nameFirst + ' ' + data.nameLast + '</td>';
    row += '<td>'+ data['location.street.number'] + ' ' + data['location.street.name'] + '</td>';
    row += '<td>' + data.city + '</td>';
    row += '<td>' + data.state + '</td>';
    row += '<td>' + data.country + '</td>';
    row += '<td>' + data['location.postcode'] + '</td>'; 
    row += '<td><a href="mailto:' + data.email + '">' + data.email + '</a></td>';
    row += '<td><a href="tel:' + data.phone + '">' + data.phone + '</a></td>';
    row += '<td><a href="tel:' + data.cell + '">' + data.cell + '</a></td>';
    row += '<td>' + data.nat + '</td>';
    row += '<td>' + data['login.username'] + '</td>';
    row += '<td>' + data['dob.date'] + '</td>';
    row += '<td>' + data['dob.age'] + '</td>';
    row += '<td>' + data['registered.date'] + '</td>';


    row += '</tr>';
    d3.select('#directoryTable tbody').append('tr').html(row);

  });
</script>


</html>

