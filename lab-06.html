<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>User Profile</title>
    <!-- include bootstrap link-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- include bootstrap icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- include fetch api-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
  </head>
  
  <body>
    <h1> Random Profile Generator</h1>
    <section class="vh-100" style="background-color: #9de2ff;">
      <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col col-md-9 col-lg-8 col-xl-9">
            <div class="card" style="border-radius: 20px;">
              <div class="card-body p-3">
                <div class="d-flex text-black">
                  <div class="flex-shrink-0">
                    <img id="photo"
                      alt="profile image]" class="rounded-rectangle"
                      style="width: 180px; border-radius: 10px;">
                  </div>

                  <div class="flex-grow-1 ms-3">
                    <h5 class="mb-1" id="name"></h5>
                    <p class="mb-2 pb-1" id ="email" style="color: #2b2a2a;"></p>
                    <div class="d-flex justify-content-start rounded-3 p-2 mb-2"
                      style="background-color: #efefef;">

                      <div>
                        <p class="small text-muted mb-1">Username</p>
                        <p class="mb-0" id = "username"></p>
                      </div>

                      <div class="px-3">
                        <p class="small text-muted mb-1">Phone</p>
                        <p class="mb-0" id="phone"></p>
                      </div>
                      
                      <div>
                        <p class="small text-muted mb-1">Location</p>
                        <p class="mb-0" id ="location"></p>
                      </div>

                    </div>
                    
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    
    <script>
      const API_URL = 'https://randomuser.me/api/';

      fetch(API_URL)
        .then((response) => response.json())
        .then((data) => {
          const user = data.results[0];
          document.getElementById('name').textContent =
            user.name.first + ' ' + user.name.last;
          document.getElementById('username').textContent =
            user.login.username;
          document.getElementById('photo').src = user.picture.large;
          document.getElementById('email').textContent = user.email;
          document.getElementById('phone').textContent = user.phone;
          document.getElementById('location').textContent =
            user.location.city + ', ' + user.location.country;

        })
        .catch((error) => {
          console.error('Error fetching user profile:', error);
          document.getElementById('profile').textContent =
            'Failed to load user profile. Please try again later.';
        });
    </script>
  </body>
</html>
